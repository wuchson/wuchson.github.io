<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç©¶æ¥µ PO æ–‡ç¥å™¨ - åˆ†é¡æ——è‰¦ç‰ˆ</title>
    <style>
        html, body { height: auto; overflow-y: auto; background-color: #fff9fb; margin: 0; padding: 0; -webkit-overflow-scrolling: touch; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; padding: 15px; }
        .app-card { max-width: 600px; margin: 10px auto; background: white; border-radius: 20px; padding: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        h2 { color: #ff4757; text-align: center; font-size: 22px; margin-bottom: 25px; }
        .group-label { display: block; font-size: 15px; font-weight: bold; color: #ff4757; margin: 20px 0 10px; border-left: 5px solid #ff85a2; padding-left: 10px; }

        /* åˆ†é¡åˆ‡æ›éˆ•æ¨£å¼ */
        .tab-container {
            display: flex;
            overflow-x: auto; /* æ‰‹æ©Ÿå¯ä»¥å·¦å³æ»‘å‹•åˆ†é¡ */
            gap: 8px;
            padding: 5px 0 15px 0;
            scrollbar-width: none; /* éš±è—æ²è»¸ */
        }
        .tab-container::-webkit-scrollbar { display: none; }
        .tab-btn {
            flex: 0 0 auto;
            padding: 8px 15px;
            background: #f0f0f0;
            border-radius: 12px;
            font-size: 14px;
            font-weight: bold;
            color: #666;
            cursor: pointer;
            border: none;
        }
        .tab-btn.active {
            background: #ff4757;
            color: white;
        }

        /* 6x5 ç¶²æ ¼ */
        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(5, 1fr);
            gap: 8px;
            background: #fffafa;
            padding: 12px;
            border-radius: 15px;
            border: 1px solid #ffe0e6;
            min-height: 280px;
        }
        .emoji-btn {
            aspect-ratio: 1 / 1;
            background: white;
            border: 1px solid #ffe0e6;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.03);
        }
        .emoji-btn:active { background: #ffe0e6; transform: scale(0.9); }

        /* æ™‚é–“é¸æ“‡ */
        .time-box { background: #fffafa; padding: 15px; border-radius: 15px; border: 1px solid #ffe0e6; }
        .time-input-group { display: flex; gap: 8px; margin-bottom: 10px; }
        input[type="date"], input[type="time"] { flex: 1; padding: 10px; border: 1.5px solid #ff85a2; border-radius: 10px; font-size: 14px; color: #333; }
        .chip { padding: 8px 14px; background: white; border: 1.5px solid #ff85a2; color: #ff4757; border-radius: 20px; font-size: 14px; font-weight: bold; cursor: pointer; display: inline-block; margin-top: 5px;}

        /* æ–‡å­—å€ */
        textarea { width: 100%; height: 200px; margin-top: 15px; padding: 15px; font-size: 18px; border: 2px solid #f0f0f0; border-radius: 15px; outline: none; resize: none; box-sizing: border-box; color: #000; }
        .preview-pane { background: #fdfdfd; border: 1px dashed #ccc; border-radius: 15px; padding: 15px; margin-top: 20px; min-height: 80px; font-size: 16px; line-height: 1.6; white-space: pre-wrap; color: #222; }
        .btn-copy-big { width: 100%; padding: 18px; background: linear-gradient(135deg, #ff85a2, #ff4757); color: white; border: none; border-radius: 50px; font-size: 20px; font-weight: bold; margin: 30px 0; cursor: pointer; }
    </style>
</head>
<body>

<div class="app-card">
    <h2>âœ¨ ç©¶æ¥µ PO æ–‡ç¥å™¨ âœ¨</h2>

    <span class="group-label">ğŸ“… æ’å…¥æ—¥æœŸ</span>
    <div class="time-box">
        <div class="time-input-group">
            <input type="date" id="dateInput">
            <input type="time" id="timeInput">
        </div>
        <div class="chip" style="background: #ff85a2; color: white;" onclick="setNow()">ğŸ“ ç¾åœ¨</div>
        <div class="chip" onclick="insertDateTime('date')">ğŸ“… åƒ…æ—¥æœŸ</div>
        <div class="chip" onclick="insertDateTime('full')">â° æ—¥æœŸæ™‚é–“</div>
    </div>

    <span class="group-label">ğŸ¨ è²¼åœ–åˆ†é¡ (6Ã—5 æ’)</span>
    <div class="tab-container" id="tabContainer">
        <button class="tab-btn active" onclick="switchTab('è¡¨æƒ…')">è¡¨æƒ…</button>
        <button class="tab-btn" onclick="switchTab('æ°´æœ')">æ°´æœ</button>
        <button class="tab-btn" onclick="switchTab('å‹•ç‰©')">å‹•ç‰©</button>
        <button class="tab-btn" onclick="switchTab('ç¾é£Ÿ')">ç¾é£Ÿ</button>
        <button class="tab-btn" onclick="switchTab('æœé£¾')">æœé£¾</button>
        <button class="tab-btn" onclick="switchTab('æ—…éŠ')">æ—…éŠ</button>
        <button class="tab-btn" onclick="switchTab('å·¥å•†')">å·¥å•†</button>
    </div>
    
    <div class="emoji-grid" id="emojiGrid">
        </div>

    <span class="group-label">âœï¸ å…§æ–‡ç·¨æ’</span>
    <textarea id="ed" oninput="sync()" placeholder="åœ¨é€™è£¡å¯«ä¸‹æ–‡æ¡ˆ..."></textarea>
    
    <span class="group-label">ğŸ“± è²¼æ–‡é è¦½</span>
    <div class="preview-pane" id="pv">æ–‡å­—æœƒåŒæ­¥é¡¯ç¤ºåœ¨é€™è£¡...</div>

    <button class="btn-copy-big" onclick="copy()">ä¸€éµè¤‡è£½æ–‡æ¡ˆ ğŸš€</button>
</div>

<script>
    const ed = document.getElementById('ed');
    const pv = document.getElementById('pv');
    const emojiGrid = document.getElementById('emojiGrid');
    const dateInput = document.getElementById('dateInput');
    const timeInput = document.getElementById('timeInput');

    const emojiData = {
        'è¡¨æƒ…': ['ğŸ˜†','ğŸ¥³','ğŸ¥°','ğŸ˜','ğŸ¤©','ğŸ˜‡','ğŸ˜‚','ğŸ¤£','ğŸ˜‹','ğŸ˜œ','ğŸ¤«','ğŸ« ','ğŸ¤”','ğŸ¤¨','ğŸ˜','ğŸ˜‘','ğŸ™„','ğŸ¥±','ğŸ¥º','ğŸ˜­','ğŸ˜¤','ğŸ˜ ','ğŸ˜¡','ğŸ¤¬','ğŸ˜±','ğŸ˜°','ğŸ˜¨','ğŸ¤¯','ğŸ« ','ğŸ‘‹'],
        'æ°´æœ': ['ğŸ“','ğŸ‘','ğŸ’','ğŸ','ğŸ‹','ğŸ‡','ğŸ','ğŸ','ğŸŠ','ğŸ‰','ğŸˆ','ğŸ¥','ğŸ','ğŸ¥­','ğŸ«','ğŸŒ½','ğŸ¥•','ğŸ…','ğŸ†','ğŸ¥¦','ğŸ¥¬','ğŸ¥’','ğŸ«‘','ğŸ¥‘','ğŸ¥—','ğŸ','ğŸ','ğŸŠ','ğŸ‹','ğŸŒ'],
        'å‹•ç‰©': ['ğŸ°','ğŸ±','ğŸ¶','ğŸ§¸','ğŸ¹','ğŸ¦Š','ğŸ»','ğŸ¼','ğŸ¨','ğŸ¯','ğŸ¦','ğŸ®','ğŸ·','ğŸµ','ğŸ£','ğŸ¤','ğŸ§','ğŸ¦','ğŸ¤','ğŸ£','ğŸ¥','ğŸ¦‰','ğŸ¦‡','ğŸ¦‹','ğŸŒ','ğŸ','ğŸœ','ğŸ','ğŸ™','ğŸ '],
        'ç¾é£Ÿ': ['ğŸ°','ğŸ®','ğŸ¦','ğŸ©','ğŸª','ğŸ«','ğŸ”','ğŸ•','ğŸŸ','ğŸ±','ğŸ£','ğŸœ','ğŸ›','ğŸ™','ğŸ¢','ğŸ¥','ğŸ§‡','ğŸ¥“','ğŸ³','ğŸ¥˜','ğŸ','ğŸ¥ª','ğŸ¥¨','ğŸ¥','ğŸ¥–','ğŸ–','ğŸ—','ğŸš','ğŸ²','ğŸ³'],
        'æœé£¾': ['ğŸ€','ğŸ‘—','ğŸ‘˜','ğŸ‘ ','ğŸ‘Ÿ','ğŸ§¦','ğŸ§¤','ğŸ§£','ğŸ©','ğŸ§¢','ğŸ‘’','ğŸ’','ğŸ’¼','ğŸ‘œ','ğŸ’','ğŸ•¶ï¸','ğŸ‘•','ğŸ‘–','ğŸ‘—','ğŸ‘—','ğŸ‘•','ğŸ§¶','ğŸ§µ','ğŸ’„','ğŸ’…','ğŸ’„','ğŸ’','ğŸ’','âœ¨','ğŸ§¥'],
        'æ—…éŠ': ['âœˆï¸','ğŸš‚','ğŸš²','ğŸš—','ğŸ›³ï¸','ğŸ–ï¸','ğŸï¸','â›°ï¸','ğŸ”ï¸','â›º','ğŸ•ï¸','ğŸ¨','ğŸ ','â›©ï¸','â›²','ğŸ—¼','ğŸ¡','ğŸ¢','ğŸ ','ğŸ¬','ğŸ¨','ğŸ­','ğŸ«','ğŸ¿','ğŸ“¸','ğŸ—ºï¸','ğŸ®','ğŸ†','ğŸ‡','ğŸŒŒ'],
        'å·¥å•†': ['ğŸ“¢','ğŸ’°','ğŸ”¥','ğŸ’¯','ğŸ','ğŸ’','ğŸ“','âœ…','ğŸ’¡','ğŸš€','â­','ğŸ‰','ğŸ“£','ğŸ’µ','ğŸ’³','ğŸ’¹','ğŸ“ˆ','ğŸ›’','ğŸ›ï¸','ğŸ“¦','âœ‰ï¸','ğŸ“','ğŸ”—','ğŸ†•','ğŸ†™','ğŸ‰','ğŸ‰','ãŠ—ï¸','ãŠ™ï¸','ğŸ“¢']
    };

    window.onload = () => {
        const d = localStorage.getItem('final_scroll_ok');
        if(d) { ed.value = d; sync(); }
        setNow();
        switchTab('è¡¨æƒ…'); // é è¨­é¡¯ç¤ºè¡¨æƒ…
    };

    function switchTab(category) {
        // æ›´æ–°æŒ‰éˆ•æ¨£å¼
        const btns = document.querySelectorAll('.tab-btn');
        btns.forEach(btn => {
            btn.classList.toggle('active', btn.innerText === category);
        });

        // æ›´æ–°ç¶²æ ¼å…§å®¹
        emojiGrid.innerHTML = '';
        emojiData[category].forEach(emoji => {
            const btn = document.createElement('div');
            btn.className = 'emoji-btn';
            btn.innerText = emoji;
            btn.onclick = () => add(emoji);
            emojiGrid.appendChild(btn);
        });
    }

    function setNow() {
        const now = new Date();
        dateInput.value = now.toISOString().split('T')[0];
        timeInput.value = now.toTimeString().slice(0,5);
    }

    function insertDateTime(type) {
        const dateVal = dateInput.value.replace(/-/g, '/');
        const text = type === 'date' ? `[ ${dateVal} ] ` : `[ ${dateVal} ${timeInput.value} ] `;
        add(text);
    }

    function sync() {
        pv.innerText = ed.value || "æ–‡å­—æœƒåŒæ­¥é¡¯ç¤ºåœ¨é€™è£¡...";
        localStorage.setItem('final_scroll_ok', ed.value);
    }

    function add(s) {
        const start = ed.selectionStart;
        ed.value = ed.value.slice(0, start) + s + ed.value.slice(ed.selectionEnd);
        ed.focus();
        ed.selectionStart = ed.selectionEnd = start + s.length;
        sync();
    }

    function copy() {
        if(!ed.value) return;
        navigator.clipboard.writeText(ed.value).then(() => alert("æ–‡æ¡ˆå·²è¤‡è£½ï¼(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§"));
    }
</script>

</body>
</html>
